#!/usr/bin/env ruby

require 'sass2stylus'

converter = Sass2stylus::Utilities.new

if ARGV.length < 2
  puts "Both arguments are required"
  puts "Example: sass2stylus **/*.scss /styl"
end

glob = Dir.glob(ARGV[0])
styl = ARGV[1]

# Convert every file matching the glob
if glob.empty?
  puts "The pattern '#{ARGV[0]}' didn't match any sass files."
  puts "Use globs like: sass2stylus **/*.scss"
else
  Dir.glob(glob).each do |file|
    converter.s2s(file, styl)
  end;
end